<!DOCTYPE html>
<html>
<head>
  <title>Send Data Between Two People</title>
  <script>
    function generateShortenedLink() {
      const data = document.getElementById('dataInput').value;
      const encryptedData = encryptData(data);
      const shortKey = generateShortKey();
      const baseUrl = window.location.origin; // Change this to your actual domain
      const link = `${baseUrl}/receive.html?key=${shortKey}`;
      saveDataToLocalStorage(shortKey, encryptedData);
      document.getElementById('generatedLink').innerText = `Share this link: ${link}`;
    }
    
    function encryptData(data) {
      // Simple encryption function (this is just for illustration purposes, not secure)
      let encryptedData = '';
      for (let i = 0; i < data.length; i++) {
        encryptedData += String.fromCharCode(data.charCodeAt(i) + 1);
      }
      return encryptedData;
    }
    
    function generateShortKey() {
      // Simple hash function to generate a short key (this is just for illustration purposes, not secure)
      const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';
      let result = '';
      for (let i = 0; i < 6; i++) {
        result += characters.charAt(Math.floor(Math.random() * characters.length));
      }
      return result;
    }
    
    function saveDataToLocalStorage(key, data) {
      // Save the encrypted data in the browser's local storage (this is just for illustration purposes, not secure)
      localStorage.setItem(key, data);
    }
    </script>
</head>
<body>
  <h1>Send link</h1>
  <label for="dataInput">Data to Share:</label>
  <input type="text" id="dataInput">
  <br>
  <button onclick="generateShortenedLink()">Generate Link</button>
  <br>
  <div id="generatedLink"></div>
</body>
</html>